FROM alpine:3.15.2

test-env:
    RUN apk add --no-cache py3-pip
    RUN pip3 install pytest jsonschema
    WORKDIR /app

test:
    FROM +test-env
    COPY --dir tests .
    COPY --dir schema .
    WORKDIR tests
    RUN pytest schema_tester.py
